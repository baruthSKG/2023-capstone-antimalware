@echo off
echo Checking installation info...
:: Adds key named "Bonfire Security" to HKEY_CURRENT_USER
set install_key=HKCU\Software\Bonfire Security
reg query "%install_key%" >nul
set cwd=%~dp0
if %errorlevel% equ 0 (
	echo Install path found! Continuing...
) else (
	echo Install path not found! Creating...
	reg add "%install_key%"
	reg add "%install_key%" /v InstallPath /t REG_SZ /d %~dp0
)
:: Check if installation path has changed
reg query "%install_key%" /v InstallPath| find "%~dp0" > nul
if errorlevel 0 echo Installation looks good. Continuing...
if errorlevel 1 (
	echo Installation path has changed! Updating...
	reg add "%install_key%" /v InstallPath /t REG_SZ /d %~dp0
)
python STARTUP_HOOK.py
echo Installing dependencies...
python INSTALL_DEPENDENCIES.py
echo All dependencies installed!
cd signature_based
echo Starting program...
python signature_based.py
