#include <iostream>
#include "sqlite3.h"
using std::string;
using std::cout;

string compareHashDB(string file_hash) {
	sqlite3* db;
	sqlite3_stmt* stmt;
	sqlite3_open("HashDB.db", &db);
	sqlite3* databases[] = { db };
	int rc;
	string result;

	for (sqlite3* db : databases) {
		sqlite3_prepare_v2(db, ("SELECT from HashDB WHERE hash=" + file_hash).c_str(), -1, &stmt, 0);
		sqlite3_step(stmt);
		cout << rc << "\n";
		if (rc == SQLITE_OK) {
			return string(sqlite3_column_text(stmt, 1));
		}
	}
	
	return "No infections found!";
 }

int main() {
	cout << compareHashDB("38c07fde8a4d0c51ed48a80ee0931b62") << "\n";
}


